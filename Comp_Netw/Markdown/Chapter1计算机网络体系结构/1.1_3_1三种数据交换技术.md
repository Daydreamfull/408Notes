# 电路交换、报文交换、分组交换

### **日期**: 2024 年 10 月 10 日

---

## 知识总览

- 电路交换：用于电话网络
- 报文交换：用于电报网络
- 分组交换：用于现代计算机网络
- 虚电路交换（补充）

---

## **电路交换（电话网络）**

- ### **电路交换**（Circuit Switching）：通过物理线路的连接，动态地分配传输线路资源

- ### **电路交换的过程**

  1. 建立连接（尝试占用通信资源）
  2. 通信（一直占用通信资源）
  3. 释放连接（归还通信资源）

- ### **如果计算机网络采用“电路交换”技术？**

  会出现占线现象，效率低，不适合计算机网络

- ### **电路交换的特点**
  - **优点**
    - 数据直送，传输效率高。通信前从主叫端到被叫端建立一条专用的物理通路，在通信的全部时间内，两个用户始终占用端到端的线路资源
  - **缺点**
    - 建立/释放连接，需要额外时间开销
    - 线路被通信双方独占，利用率低
    - 线路分配的灵活性差
    - 交换节点不支持“差错控制”（无法发现传输过程中发生的数据错误）
  - 电路交换更适用于**低频次、大量地传输数据**，而计算机之间数据往往是“突发式”传输，一般是**高频次、少量**地传输数据，不适合用电路交换

---

## **报文交换（电报网络）**

- ### **报文交换**：存储转发的思想，把传送的数据单元先存储进中间节点，再根据目的地址转发至下一节点

- ### **报文交换的过程**

  - 例：现有报文 message1，其内容为：
    - 发送方：A.H1
    - 接收方：D.H5
    - 报文内容：“Hello, World!”
  - 该报文交换过程：
    1. 主机 H1 将报文 message1 发送给报文交换机 A
    2. 报文交换机 A 将报文 message1 存储起来，并转发给下一个报文交换机
    3. 继续存储转发至下一个报文交换机，直至发送到报文交换机 D，在这一过程中，传输路径参考报文交换机的内存中的“转发表”，取决于线路繁忙程度
    4. 报文交换机 D 将报文 message1 存储起来，并转发给主机 H5
    5. H5 将报文 message1 接收并处理

- ### **如果计算机网络采用“报文交换”技术？**
- ### **报文交换的特点**

  - **优点**

    - 通信前无需建立连接
    - 数据以“报文”为单位在交换节点间被“**存储转发**”，**通信线路可以灵活分配**
    - 在通信时间内，两个用户**无需独占**一整条物理链路。相比于电路交换，线路利用率高
    - 交换节点支持“**差错控制**”（通过校验技术）

  - **缺点**

    - 报文不定长，不方便存储转发管理
    - 长报文的存储转发时间开销大、缓存开销大
    - 长报文容易出错，且重传代价高

  - 电报网络的报文交换技术对计算机网络有一定的参考作用，需要解决的便是其处理长报文时的一些问题

---

## **分组交换（现代计算机网络）**

- ### **分组交换**：存储转发思想，将报文拆分成若干个分组，逐个分组进行存储转发

  - 报文-Message：要发送的数据，包含**控制信息**（源地址、目的地址）和**数据**
  - 分组-Packet：不定长的报文拆分出来的**定长**的分组
  - 首部-Header：头信息，即分组的控制信息，包含**源地址、目的地址、分组号**等，每个分组都有首部

- ### **分组交换的过程**

  - 例：现有用户数据 message1，其内容为：
    - 控制信息：发送方，接收方
    - 数据：“Hello, World!”
  - 该报文交换过程：
    1. 用户数据 message1 被拆分成若干个分组，每个分组包含控制信息和数据
    2. 发送方主机将所有分组发送给分组交换机
    3. 每个分组独立被分组交换机存储转发，此过程类似报文交换，不同的分组可以通过不同的路径传输，直至发送到接收方主机
    4. 接收方主机将所有分组接收并根据分组号将其重新组合成用户数据 message1（拆除不必要的首部信息）

- ### **分组交换的特点**

  - **优点**（继承了报文交换的所有优点）

    - 通信前无需建立连接
    - 数据以“分组”为单位在交换节点间被“**存储转发**”，**通信线路可以灵活分配**
    - 在通信时间内，两个用户**无需独占**一整条物理链路。相比于电路交换，线路利用率高
    - 交换节点支持“**差错控制**”（通过校验技术）

  - **相比于报文交换的改进**

    - 分组定长，方便存储转发管理
    - 分组的存储转发时间开销小、缓存开销小
    - 分组不易出错，且重传代价低

  - **缺点**
    - 相比于报文交换，控制信息占比增加
    - 相比于电路交换，依然存在存储转发时延
    - 报文被拆分为多个分组，传输过程中可能出现失序、丢失等问题，增加处理的复杂度

---

## **虚电路交换（基于分组交换）**

- ### **虚电路交换**：分组交换的一种，通过建立和维护“虚电路”实现通信
- ### **虚电路交换的过程** --->Chapter 4

  1. 建立连接（虚拟电路）
  2. 通信（分组按序，按已建立好的既定路线发送，通信双方不独占线路）
  3. 释放连接（虚拟电路断开）

- ### **缺点**：将问题丢给了网络的核心部分处理，实际上只需要强化终端算力即可避免分组交换的一些问题
