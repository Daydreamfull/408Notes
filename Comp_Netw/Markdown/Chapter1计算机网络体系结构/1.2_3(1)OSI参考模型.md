# OSI 参考模型

### **日期**: 2024 年 10 月 16 日

---

知识总览

- 记住：各层的名称和顺序（物联网叔会使用）
- 了解：常见网络设备的功能层次
- 了解：各层的功能

---

## **关于个别术语的说明**

![Figure1](<../images/1.2_3(1)figure1.jpg> "个别术语说明")

## **记住：各层的名称和顺序**

- ### **谐音助记**：OSI 参考模型 1~7 层——“**谁会用？物联网叔会使用**”
  - 应**用**层
  - 表**示**层
  - **会**话层
  - 传**输**层
  - **网**络层
  - 数据**链**路层
  - **物**理层

---

## **常见网络设备功能层次**

![Figure1](<../images/1.2_3(1)figure2.jpg> "个别术语说明")

---

## **各层的功能**

- ### **物理层**

  - **物理层任务**：实现<u>相邻节点</u>之间**比特（0 或 1）的传输**
  - **物理层功能**
    1. 需要定义电路接口参数（如形状、大小、尺寸、引脚数等）
    2. 需要定义传输信号的含义、电气特性（如 5V 表示 1，1V 表示 0；每比特电信号持续时间 0.1ms）

- ### **数据链路层（链路层）**

  - **链路层任务**：确保<u>相邻节点</u>之间链路**逻辑上无差错**
  - **链路层功能**
    1. **差错控制**：检错 + 纠错；或检错 + 丢弃 + 重传
       - 以帧（Frame，含多个比特）为传输单位，包含校验信息（需校验编码技术），成功接收后去除校验信息
    2. **流量控制**：协调两个节点的速率
       - 控制流量可以防止丢帧

- ### **网络层**

  - **网络层任务**：**把“分组”从源结点转发到目的结点**
  - **网络层功能**
    1. **路由选择**：构造并维护路由表，决定分组到达目的节点的最佳路径
    2. **分组转发**：将“**分组**（Packet，也称数据报）”从**合适的端口转发**出去
    3. **拥塞控制**：发现网络拥塞，并采取措施缓解拥塞
    4. **网际互连**：实现异构网络互连
    5. **其他功能**：差错控制、流量控制、连接建立与释放、可靠传输管理
       - 网络层的**差错控制**是以“**分组**”为单位的，而不是“**帧**”，一个分组可能被拆分为多个帧，数据链路层只能保证“帧”的正确，不能保证“分组”的正确
       - **连接建立与释放**涉及的是“虚电路”
       - **可靠传输管理**例如接收方需要返回分组确认消息

- ### **传输层**

  - **传输层任务**：实现端到端通信（即实现<u>进程到进程</u>的通信），“端”指端口
    - 源节点的微信给目的节点的微信发送数据，使用的是对应的端口号，保证不会把数据发到 QQ 等其他进程
    - 在数据的发送方多个进程可以通过端口号请求传输层的服务，该过程被称为“传输层的复用
    - 在数据的接收方传输层会通过端口号分派给对应的进程，该过程被称为“传输层的分用”
  - **传输层功能**
    1. **复用和分用**：发送端几个高层实体**复用**一条低层的连接，在接收端再进行**分用**
    2. **其他功能**：差错控制、流量控制、连接建立与释放、可靠传输管理
       - 网传输层的**差错控制**是以“**报文段**”为单位的，确保报文段有序、不重复到达，一个报文段可以拆分成多个分组
    - **可靠传输管理**例如接收方需要返回报文段确认消息

- ### **#5 ~ #7 层（会话层、表示层、应用层）**
  - **会话层任务**：管理进程间会话
  - **会话层主要功能**：<u>**会话管理**</u>，采用检查点机制，当通信失效时从检查点继续恢复通信（例如文件断点续传）
  - **表示层任务**：解决不同主机上信息显示不一致的问题
  - **表示层主要功能**：<u>**数据格式转换**</u>，如字符编码转换、压缩/解压、加密/解密
  - **应用层任务**：实现特定的网络应用
  - **应用层主要功能**：功能繁多，根据应用需求设计，例如 HTTP 协议等

---

## **总结**

- ### **各层数据传输单位**

  ![Figure1](<../images/1.2_3(1)figure3.jpg> "各层数据传输单位")

  - **数据分段（从大到小） -> 数据重装（从小到大）**

- ### **汇总**
  | 层            | 任务                               | 功能                                                                               |
  | ------------- | ---------------------------------- | ---------------------------------------------------------------------------------- |
  | #7 应用层     | 实现特定网络应用                   | 略                                                                                 |
  | #6 表示层     | 解决不同主机上信息表示不一致的问题 | 数据格式转换                                                                       |
  | #5 会话层     | 管理进程间会话                     | 会话管理                                                                           |
  | #4 传输层     | 实现实端到端（进程到进程）通信     | 复用和分用、差错控制、流量控制、连接管理、可靠传输管理                             |
  | #3 网络层     | 把分组从源结点转发到目的结点       | 路由选择、分组转发、拥塞控制、网际互联、差错控制、流量控制、连接管理、可靠传输管理 |
  | #2 数据链路层 | 确保相邻节点之间的链路逻辑上无差错 | 差错控制、流量控制                                                                 |
  | #1 物理层     | 实现相邻节点之间比特的传输         | 需定义电路接口参数、信号的含义/电气特性等                                          |
